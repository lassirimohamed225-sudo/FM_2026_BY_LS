<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LASSIRI MANAGER 26 | ULTIMATE</title>
    <style>
        :root { --gold: #f1c40f; --dark: #0a0e14; --field: #1e3d2b; --danger: #ff4757; --win: #2ecc71; --ui: #1c2128; --email: #34495e; }
        body { margin: 0; background: var(--dark); color: white; font-family: 'Segoe UI', sans-serif; overflow: hidden; }
        
        /* Header */
        .header { background: var(--ui); padding: 10px; display: flex; justify-content: space-around; border-bottom: 2px solid var(--gold); position: fixed; width: 100%; z-index: 1000; font-size: 11px; }
        .stat-val { color: var(--gold); font-weight: bold; display: block; font-size: 13px; }

        /* Container */
        .container { padding: 80px 10px 100px; height: 100vh; overflow-y: auto; box-sizing: border-box; }
        .card { background: rgba(255,255,255,0.05); border-radius: 10px; padding: 12px; margin-bottom: 10px; border: 1px solid #333; position: relative; }
        
        /* Match Day */
        #match-screen { position: fixed; top:0; left:0; width:100%; height:100%; background: var(--field); z-index: 5000; display: none; flex-direction: column; align-items: center; justify-content: center; }
        .pitch { width: 90%; height: 50%; border: 2px solid rgba(255,255,255,0.3); border-radius: 10px; background: repeating-linear-gradient(90deg, #27ae60, #27ae60 40px, #2ecc71 40px, #2ecc71 80px); position: relative; }
        .scoreboard { background: rgba(0,0,0,0.9); padding: 15px; border-radius: 15px; width: 90%; margin-bottom: 15px; border: 2px solid white; text-align: center; }

        /* Navigation */
        .nav { position: fixed; bottom: 0; width: 100%; background: #000; display: flex; height: 65px; border-top: 1px solid #333; z-index: 1000; }
        .nav-item { flex: 1; text-align: center; padding: 10px; font-size: 9px; cursor: pointer; color: #888; position: relative; }
        .active { color: var(--gold); border-top: 2px solid var(--gold); }
        .badge { position: absolute; top: 5px; right: 20%; background: var(--danger); color: white; border-radius: 50%; padding: 2px 6px; font-size: 10px; }

        /* Buttons */
        .btn { background: var(--gold); border: none; padding: 10px; border-radius: 5px; width: 100%; font-weight: bold; cursor: pointer; color: black; margin-top: 5px; }
        .btn-mail { background: var(--email); color: white; font-size: 11px; margin-top: 10px; }
        
        /* Email UI */
        .mail-item { border-bottom: 1px solid #444; padding: 10px 0; cursor: pointer; }
        .mail-unread { border-left: 3px solid var(--gold); padding-left: 10px; }
    </style>
</head>
<body>

<audio id="snd-goal" src="https://assets.mixkit.co/active_storage/sfx/2043/2043-preview.mp3"></audio>

<div id="match-screen">
    <div class="scoreboard">
        <h2 id="m-timer">00'</h2>
        <div style="display:flex; justify-content:space-around; align-items:center;">
            <div><h3>LASSIRI FC</h3><h1 id="m-score-a">0</h1></div>
            <div>VS</div>
            <div><h3 id="m-opp">Ø§Ù„Ø®ØµÙ…</h3><h1 id="m-score-b">0</h1></div>
        </div>
        <div id="m-events" style="font-size:12px; color:var(--gold); margin-top:10px;">ØµØ§ÙØ±Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©...</div>
    </div>
    <div class="pitch"></div>
    <div style="width:85%; margin-top:15px;"><button class="btn" onclick="quickSim()">Ù…Ø­Ø§ÙƒØ§Ø© Ø³Ø±ÙŠØ¹Ø© âš¡</button></div>
</div>

<div class="header">
    <div>ğŸ’° Ù…Ø§Ù„<span id="h-money" class="stat-val">50.0M</span></div>
    <div>ğŸ“… Ø¬ÙˆÙ„Ø©<span id="h-round" class="stat-val">1/38</span></div>
    <div>ğŸ“§ Ø¨Ø±ÙŠØ¯<span id="h-mail" class="stat-val">1</span></div>
    <div>ğŸ† Ø¨Ø·ÙˆÙ„Ø§Øª<span id="h-trophy" class="stat-val">0</span></div>
</div>

<div class="container" id="app"></div>

<nav class="nav">
    <div class="nav-item active" onclick="show('office')">ğŸ <br>Ø§Ù„Ù…ÙƒØªØ¨</div>
    <div class="nav-item" onclick="show('league')">ğŸ“Š<br>Ø§Ù„Ø¯ÙˆØ±ÙŠ</div>
    <div class="nav-item" onclick="show('squad')">ğŸ“‹<br>Ø§Ù„Ø®Ø·Ø©</div>
    <div class="nav-item" onclick="show('inbox')">ğŸ“§<br>Ø§Ù„Ø¨Ø±ÙŠØ¯ <span id="mail-count" class="badge">1</span></div>
</nav>

<script>
    // 1. Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ù‚
    let game = {
        money: 50.0, round: 1, year: 2026,
        emails: [
            {id: 1, from: "Ø±Ø¦ÙŠØ³ Ø§Ù„Ù†Ø§Ø¯ÙŠ", subject: "Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ù…ÙˆØ³Ù…", body: "Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙƒÙˆØªØ´ LASSIRI. Ù†Ù†ØªØ¸Ø± Ù…Ù†Ùƒ Ø§Ù„ØªØ£Ù‡Ù„ Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø£Ø¨Ø·Ø§Ù„ Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆØ³Ù…. Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ù…Ø­Ø¯ÙˆØ¯Ø©ØŒ Ø§Ø³ØªØ®Ø¯Ù…Ù‡Ø§ Ø¨Ø­ÙƒÙ…Ø©.", read: false}
        ],
        squad: [
            {name: "M. Salah", ovr: 89, pos: "FWD", salary: 0.5, injured: 0, redCard: false},
            {name: "L. Yamal", ovr: 86, pos: "FWD", salary: 0.2, injured: 0, redCard: false},
            {name: "A. Hakimi", ovr: 87, pos: "DEF", salary: 0.3, injured: 0, redCard: false},
            {name: "V. Dijk", ovr: 88, pos: "DEF", salary: 0.4, injured: 0, redCard: false},
            {name: "Alisson", ovr: 89, pos: "GK", salary: 0.3, injured: 0, redCard: false}
        ],
        standings: [],
        leagues: ["Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ", "Ø§Ù„Ø¥Ø³Ø¨Ø§Ù†ÙŠ", "Ø§Ù„Ø¥ÙŠØ·Ø§Ù„ÙŠ", "Ø§Ù„Ø£Ù„Ù…Ø§Ù†ÙŠ", "Ø§Ù„ÙØ±Ù†Ø³ÙŠ"],
        selectedLeague: 0
    };

    // ØªÙˆÙ„ÙŠØ¯ 20 ÙØ±ÙŠÙ‚Ø§Ù‹ Ø­Ù‚ÙŠÙ‚ÙŠØ§Ù‹ Ù„ÙƒÙ„ Ø¯ÙˆØ±ÙŠ
    const realTeams = ["Ù…Ø§Ù† Ø³ÙŠØªÙŠ", "Ù„ÙŠÙØ±Ø¨ÙˆÙ„", "Ø±ÙŠØ§Ù„ Ù…Ø¯Ø±ÙŠØ¯", "Ø¨Ø±Ø´Ù„ÙˆÙ†Ø©", "Ø¨Ø§ÙŠØ±Ù†", "Ø¨Ø§Ø±ÙŠØ³", "Ø£Ø±Ø³Ù†Ø§Ù„", "ÙŠÙˆÙÙ†ØªÙˆØ³", "Ø¥Ù†ØªØ± Ù…ÙŠÙ„Ø§Ù†", "Ø£ØªÙ„ØªÙŠÙƒÙˆ", "ØªØ´ÙŠÙ„Ø³ÙŠ", "ØªÙˆØªÙ†Ù‡Ø§Ù…", "Ø¯ÙˆØ±ØªÙ…ÙˆÙ†Ø¯", "Ù…ÙŠÙ„Ø§Ù†", "Ù†Ø§Ø¨ÙˆÙ„ÙŠ", "Ù„ÙŠÙØ±ÙƒÙˆØ²Ù†", "Ù…Ø§Ù† ÙŠÙˆÙ†Ø§ÙŠØªØ¯", "Ø£Ø³ØªÙˆÙ† ÙÙŠÙ„Ø§", "Ù†ÙŠÙˆÙƒØ§Ø³Ù„", "LASSIRI FC"];
    
    game.leagues.forEach(() => {
        let teams = realTeams.map(t => ({name: t, pts: 0, g: 0}));
        game.standings.push(teams);
    });

    function show(tab) {
        updateHeader();
        const app = document.getElementById('app');
        document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
        
        if(tab === 'office') {
            app.innerHTML = `
                <div class="card">
                    <h3>Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø© ğŸŸï¸</h3>
                    <p>Ø§Ù„Ù…Ù†Ø§ÙØ³: <b>${realTeams[game.round % 20]}</b></p>
                    <button class="btn" onclick="startMatch()">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø© (LIVE) âš½</button>
                </div>
                <div class="card">
                    <h3>Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ø³ÙˆÙ‚ ğŸ“°</h3>
                    <p>Ù…Ø¨Ø§Ø¨ÙŠ ÙŠÙ‚ØªØ±Ø¨ Ù…Ù† Ø±ÙŠØ§Ù„ Ù…Ø¯Ø±ÙŠØ¯.. Ù„ÙŠÙØ±Ø¨ÙˆÙ„ ÙŠØ¨Ø­Ø« Ø¹Ù† Ù…Ø¯Ø§ÙØ¹.</p>
                </div>`;
        } else if(tab === 'league') {
            let teams = game.standings[game.selectedLeague].sort((a,b) => b.pts - a.pts);
            let html = `<h3>ØªØ±ØªÙŠØ¨ ${game.leagues[game.selectedLeague]} ğŸ“Š</h3><table><tr><th>#</th><th>Ø§Ù„ÙØ±ÙŠÙ‚</th><th>Ù†</th></tr>`;
            teams.forEach((t, i) => {
                let style = t.name === "LASSIRI FC" ? "style='color:var(--gold)'" : "";
                let ucl = i < 4 ? "style='border-right:3px solid var(--win)'" : "";
                html += `<tr ${style} ${ucl}><td>${i+1}</td><td>${t.name}</td><td>${t.pts}</td></tr>`;
            });
            app.innerHTML = html + "</table>";
        } else if(tab === 'squad') {
            app.innerHTML = `
                <div class="card"><h3>ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø®Ø·Ø© ğŸ“‹</h3>
                    <select class="btn"><option>4-3-3</option><option>4-4-2</option></select>
                </div>
                ${game.squad.map(p => `
                    <div class="card">
                        <b>${p.name}</b> (â­${p.ovr}) - ${p.pos}
                        ${p.injured > 0 ? 'ğŸš‘' : ''} ${p.redCard ? 'ğŸŸ¥' : ''}
                        <br><small>Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ: ${p.salary}M</small>
                    </div>
                `).join('')}`;
        } else if(tab === 'inbox') {
            app.innerHTML = `<h3>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ğŸ“§</h3>` + game.emails.map(m => `
                <div class="card mail-item ${!m.read ? 'mail-unread' : ''}" onclick="readMail(${m.id})">
                    <b>${m.from}</b><br><small>${m.subject}</small>
                </div>
            `).join('');
        }
    }

    // Ù…Ø­Ø±Ùƒ Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø© Ø§Ù„Ù…Ø·ÙˆØ±
    let matchInt;
    function startMatch() {
        const screen = document.getElementById('match-screen');
        screen.style.display = 'flex';
        let t = 0, sA = 0, sB = 0;
        matchInt = setInterval(() => {
            t += 2; document.getElementById('m-timer').innerText = t + "'";
            if(Math.random() < 0.04) { sA++; document.getElementById('m-score-a').innerText = sA; document.getElementById('snd-goal').play(); }
            if(Math.random() < 0.03) { sB++; document.getElementById('m-score-b').innerText = sB; }
            if(Math.random() < 0.01) { document.getElementById('m-events').innerText = "Ø¥ØµØ§Ø¨Ø© Ù‚ÙˆÙŠØ© Ù„Ù„Ø§Ø¹Ø¨! ğŸš‘"; }
            if(t >= 90) finishMatch(sA, sB);
        }, 100);
    }

    function quickSim() { finishMatch(Math.floor(Math.random()*3), Math.floor(Math.random()*2)); }

    function finishMatch(sA, sB) {
        clearInterval(matchInt);
        document.getElementById('match-screen').style.display = 'none';
        let myTeam = game.standings[0].find(t => t.name === "LASSIRI FC");
        if(sA > sB) { myTeam.pts += 3; game.money += 2.5; }
        else if(sA == sB) { myTeam.pts += 1; game.money += 0.8; }
        
        // Ø§Ù„Ø±ÙˆØ§ØªØ¨
        game.money -= game.squad.reduce((sum, p) => sum + p.salary, 0);
        
        game.round++;
        if(game.round > 38) {
            alert("Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ù…ÙˆØ³Ù…! ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø¹Ù…Ø§Ø± ÙˆØ§Ù„Ø¬ÙˆØ§Ø¦Ø².");
            game.round = 1; game.year++;
        }
        show('office');
    }

    function readMail(id) {
        let m = game.emails.find(e => e.id === id);
        m.read = true;
        alert(`${m.from}:\n${m.body}`);
        show('inbox');
    }

    function updateHeader() {
        document.getElementById('h-money').innerText = game.money.toFixed(1) + "M";
        document.getElementById('h-round').innerText = game.round + "/38";
        document.getElementById('mail-count').innerText = game.emails.filter(e => !e.read).length;
    }

    window.onload = () => show('office');
</script>
</body>
</html>
