<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>LASSIRI ULTIMATE 2026 - Mohamed Lassiri</title>
    <style>
        :root { --gold: #f1c40f; --dark: #000408; --blue: #1e40af; --light-blue: #60a5fa; --card: #0f172a; --text: #ffffff; --green: #22c55e; --red: #ef4444; }
        body { margin:0; background:var(--dark); color:var(--text); font-family: 'Arial Black', sans-serif; font-weight: 900; overflow:hidden; }
        
        .header { background: var(--blue); padding:10px; border-bottom:5px solid var(--gold); display:grid; grid-template-columns: repeat(3, 1fr); gap:10px; text-align:center; }
        .stat-item { background: rgba(0,0,0,0.6); padding: 8px; border-radius: 12px; border: 2px solid var(--gold); }
        .stat-item span { font-size:16px; color:#cbd5e1; display:block; }
        .stat-item b { font-size:22px; color:var(--gold); }

        .main-content { height:calc(100vh - 210px); overflow-y:auto; padding:20px; padding-bottom:120px; }
        .screen { display:none; }
        .active { display:block !important; }

        .card { background: var(--card); border-radius:25px; padding:25px; margin-bottom:20px; border: 4px solid var(--light-blue); }
        .card h3 { margin:0 0 15px 0; color:var(--gold); font-size:32px; border-bottom:3px solid var(--blue); }

        .btn { background:var(--blue); color:white; border:3px solid white; padding:18px; border-radius:15px; cursor:pointer; font-weight:bold; width:100%; margin:8px 0; font-size:26px; }
        .btn-gold { background:var(--gold); color:black; border:none; }
        .btn-red { background:var(--red); color:white; border:none; }

        table { width:100%; border-collapse:collapse; font-size:24px; }
        th { text-align:right; color:var(--gold); padding:10px; border-bottom:4px solid var(--blue); }
        td { padding:12px; border-bottom:2px solid #1e293b; }

        .navbar { position:fixed; bottom:0; width:100%; height:110px; background: var(--card); display:flex; justify-content:space-around; align-items:center; border-top: 5px solid var(--blue); z-index: 1000; }
        .nav-link { color:#94a3b8; text-align:center; font-size:26px; cursor:pointer; flex:1; font-weight:bold; }
        .nav-link.active-link { color:var(--gold); border-top: 6px solid var(--gold); }

        #intro-screen { position:fixed; inset:0; background:black; z-index:10000; display:flex; align-items:center; justify-content:center; flex-direction:column; text-align:center; }
        #results-screen { position:fixed; inset:0; background:var(--dark); z-index:9500; display:none; flex-direction:column; padding:30px; overflow-y:auto; }
    </style>
</head>
<body>

<div id="intro-screen">
    <h1 style="font-size:35px; color:var(--light-blue);">Powered by</h1>
    <h1 style="font-size:65px; color:var(--gold);">MOHAMED LASSIRI</h1>
    <button class="btn btn-gold" style="width:350px; margin-top:40px;" onclick="document.getElementById('intro-screen').style.display='none'">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù„Ø¹Ø¨Ø© âš½</button>
</div>

<div id="setup-screen" style="position:fixed; inset:0; background:var(--dark); z-index:9000; display:flex; flex-direction:column; align-items:center; justify-content:center; padding:20px;">
    <h1 style="font-size:45px; color:var(--gold);">Ø§Ø®ØªØ± Ù…Ø³ÙŠØ±ØªÙƒ Ø§Ù„Ù…Ù‡Ù†ÙŠØ©</h1>
    <div style="display:flex; gap:10px; width:90%;">
        <button class="btn btn-gold" onclick="Game.setMode('manager')">ğŸ‘” Ù…Ø¯Ø±Ø¨</button>
        <button class="btn" style="background:white; color:black;" onclick="Game.setMode('player')">ğŸ‘¤ Ù„Ø§Ø¹Ø¨</button>
    </div>
    <select id="team-select" style="width:90%; padding:20px; font-size:28px; border-radius:15px; margin-top:20px;"></select>
    <button class="btn btn-gold" style="width:90%; margin-top:20px;" onclick="Game.confirmStart()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù† ğŸš€</button>
</div>

<div class="header">
    <div class="stat-item"><span>Ø§Ù„Ù†Ø§Ø¯ÙŠ</span><b id="ui-club">-</b></div>
    <div class="stat-item"><span>Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©/Ø§Ù„Ø±Ø§ØªØ¨</span><b id="ui-money">-</b></div>
    <div class="stat-item"><span>Ø§Ù„Ø«Ù‚Ø©/Ø§Ù„Ø·Ø§Ù‚Ø©</span><b id="ui-energy">-</b></div>
</div>

<div class="main-content">
    <div id="sc-home" class="screen active">
        <div class="card">
            <h3 id="ui-objective-title">ğŸ¯ Ù‡Ø¯Ù Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</h3>
            <p id="ui-objective" style="font-size:24px; color:var(--light-blue)">ØªØ­Ù‚ÙŠÙ‚ Ù„Ù‚Ø¨ Ø§Ù„Ø¯ÙˆØ±ÙŠ</p>
        </div>

        <div id="manager-tools" style="display:none;">
            <div class="card">
                <h3>ğŸ¦ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©</h3>
                <button class="btn" onclick="Game.takeLoan()">ğŸ’° Ø·Ù„Ø¨ Ù‚Ø±Ø¶ Ø¨Ù†ÙƒÙŠ (50M)</button>
                <button class="btn" onclick="Game.upgradeFacility('acad')">ğŸ—ï¸ ØªØ·ÙˆÙŠØ± Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© (10M)</button>
                <button class="btn" onclick="Game.upgradeFacility('scout')">ğŸ” ØªØ¹ÙŠÙŠÙ† ÙƒØ´Ø§ÙØ© (5M)</button>
            </div>
        </div>

        <div id="player-tools" style="display:none;">
            <div class="card">
                <h3>ğŸ‹ï¸ Ù…Ø±ÙƒØ² Ø§Ù„ØªØ¯Ø±ÙŠØ¨ ÙˆØ§Ù„Ø­ÙŠØ§Ø©</h3>
                <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px;">
                    <button class="btn" onclick="Game.train('speed')">âš¡ Ø³Ø±Ø¹Ø©</button>
                    <button class="btn" onclick="Game.train('shoot')">ğŸ¯ ØªØ³Ø¯ÙŠØ¯</button>
                    <button class="btn btn-gold" onclick="Game.train('eat')">ğŸ• ÙˆØ¬Ø¨Ø©</button>
                    <button class="btn" style="background:var(--green);" onclick="Game.train('rest')">ğŸ’¤ Ø±Ø§Ø­Ø©</button>
                </div>
                <p style="font-size:22px;">Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù„Ø§Ø¹Ø¨ (OVR): <b id="ui-ovr">70</b></p>
            </div>
        </div>

        <button class="btn btn-gold" style="height:100px; font-size:32px;" onclick="Game.playRound()">Ù„Ø¹Ø¨ Ø§Ù„Ø¬ÙˆÙ„Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø© âš½</button>
    </div>

    <div id="sc-squad" class="screen">
        <div class="card">
            <h3>ğŸ“‹ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙØ±ÙŠÙ‚ (4-3-3)</h3>
            <div id="squad-list" style="font-size:26px; line-height:1.6;"></div>
        </div>
    </div>

    <div id="sc-league" class="screen">
        <div class="card">
            <h3>ğŸ“Š ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ</h3>
            <table id="league-table"></table>
        </div>
    </div>
</div>

<div id="results-screen">
    <h1 style="font-size:45px; color:var(--gold); text-align:center;">Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¬ÙˆÙ„Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø©</h1>
    <div id="round-results-list" style="font-size:28px; line-height:2.2; text-align:center;"></div>
    <button class="btn btn-gold" onclick="document.getElementById('results-screen').style.display='none'">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…Ù‚Ø±</button>
</div>

<div class="navbar">
    <div class="nav-link active-link" onclick="Game.nav('sc-home', this)">ğŸŸï¸ Ø§Ù„Ù†Ø§Ø¯ÙŠ</div>
    <div class="nav-link" onclick="Game.nav('sc-squad', this)">ğŸ“‹ Ø§Ù„ÙØ±ÙŠÙ‚</div>
    <div class="nav-link" onclick="Game.nav('sc-league', this)">ğŸ† Ø§Ù„Ø¯ÙˆØ±ÙŠ</div>
</div>

<script>
const Game = {
    mode: '', club: '', money: 0, energy: 100, trust: 100, ovr: 70, week: 1,
    teamsData: {
        "Ù…Ø§Ù† Ø³ÙŠØªÙŠ": ["Ø¥ÙŠØ¯Ø±Ø³ÙˆÙ†", "Ø¯ÙŠØ§Ø²", "Ø±ÙˆØ¯Ø±ÙŠ", "Ø¯ÙŠ Ø¨Ø±ÙˆÙŠÙ†", "Ù‡Ø§Ù„Ø§Ù†Ø¯", "ÙÙˆØ¯ÙŠÙ†", "Ø³ÙŠÙ„ÙØ§", "Ø£ÙƒØ§ÙƒÙŠ", "Ø¬Ø±ÙŠÙ„ÙŠØ´", "Ø³ØªÙˆÙ†Ø²", "ÙˆØ§Ù„ÙƒØ±"],
        "Ù„ÙŠÙØ±Ø¨ÙˆÙ„": ["Ø£Ù„ÙŠØ³ÙˆÙ†", "ÙØ§Ù† Ø¯Ø§ÙŠÙƒ", "ØµÙ„Ø§Ø­", "Ù†ÙˆÙ†ÙŠØ²", "Ø¯ÙŠØ§Ø²", "Ù…Ø§Ùƒ Ø£Ù„ÙŠØ³ØªØ±", "Ø³ÙˆØ¨ÙˆØ²Ù„Ø§ÙŠ", "Ø£Ø±Ù†ÙˆÙ„Ø¯", "ÙƒÙˆÙ†Ø§ØªÙŠ", "Ø±ÙˆØ¨Ø±ØªØ³ÙˆÙ†", "Ø¥Ù†Ø¯Ùˆ"],
        "Ø¢Ø±Ø³Ù†Ø§Ù„": ["Ø±Ø§ÙŠØ§", "Ø³Ø§Ù„ÙŠØ¨Ø§", "Ø¬Ø§Ø¨Ø±ÙŠÙŠÙ„", "Ø³Ø§ÙƒØ§", "Ø£ÙˆØ¯ÙŠØ¬Ø§Ø±Ø¯", "Ø±Ø§ÙŠØ³", "Ù‡Ø§ÙØ±ØªØ²", "Ù…Ø§Ø±ØªÙŠÙ†Ù„ÙŠ", "ÙˆØ§ÙŠØª", "Ø²ÙŠÙ†ØªØ´ÙŠÙ†ÙƒÙˆ", "Ø¬ÙŠØ³ÙˆØ³"],
        "Ù…Ø§Ù† ÙŠÙˆÙ†Ø§ÙŠØªØ¯": ["Ø£ÙˆÙ†Ø§Ù†Ø§", "Ù…ÙƒØªÙˆÙ…ÙŠÙ†Ø§ÙŠ", "Ø±Ø§Ø´ÙÙˆØ±Ø¯", "Ø¨Ø±ÙˆÙ†Ùˆ", "Ù‡ÙˆÙŠÙ„ÙˆÙ†Ø¯", "Ø¬Ø§Ø±Ù†Ø§ØªØ´Ùˆ", "ÙƒØ§Ø³ÙŠÙ…ÙŠØ±Ùˆ", "Ù…Ø§Ø¬ÙˆØ§ÙŠØ±", "Ø¯Ø§Ù„ÙˆØª", "Ù„ÙŠØªØ´Ø§", "ÙˆØ§Ù† Ø¨ÙŠØ³Ø§ÙƒØ§"],
        "ØªØ´ÙŠÙ„Ø³ÙŠ": ["Ø³Ø§Ù†Ø´ÙŠØ²", "Ø³ÙŠÙ„ÙØ§", "Ø¥Ù†Ø²Ùˆ", "ÙƒØ§ÙŠØ³ÙŠØ¯Ùˆ", "Ø¨Ø§Ù„Ù…Ø±", "Ø³ØªØ±Ù„ÙŠÙ†Ø¬", "Ø¬Ø§ÙƒØ³ÙˆÙ†", "Ø¬Ø§Ù„Ø§ØºÙŠØ±", "Ø¬ÙŠÙ…Ø³", "ØªØ´ÙŠÙ„ÙˆÙŠÙ„", "ÙƒÙˆÙ„ ÙˆÙŠÙ„"],
        "ØªÙˆØªÙ†Ù‡Ø§Ù…": ["ÙÙŠÙƒØ§Ø±ÙŠÙˆ", "Ø±ÙˆÙ…ÙŠØ±Ùˆ", "Ø³ÙˆÙ†", "Ù…Ø§Ø¯ÙŠØ³ÙˆÙ†", "ÙƒÙˆÙ„ÙˆØ³ÙŠÙØ³ÙƒÙŠ", "Ø±ÙŠØªØ´Ø§Ø±Ù„ÙŠØ³ÙˆÙ†", "Ø¨ÙŠØ³ÙˆÙ…Ø§", "Ø¨ÙˆØ±Ùˆ", "ÙØ§Ù† Ø¯ÙŠ ÙÙŠÙ†", "Ø£ÙˆØ¯ÙˆØ¬ÙŠ", "Ø³Ø§Ø±"],
        "Ù†ÙŠÙˆÙƒØ§Ø³Ù„": ["Ø¨ÙˆØ¨", "ØªØ±ÙŠØ¨ÙŠÙŠØ±", "Ø´Ø§Ø±", "Ø¨ÙˆØªÙ…Ø§Ù†", "Ø¨ÙŠØ±Ù†", "Ø¬ÙˆÙŠÙ…Ø§Ø±ÙŠØ´", "ØªÙˆÙ†Ø§Ù„ÙŠ", "Ø¬ÙˆÙ„ÙŠÙ†ØªÙˆÙ†", "Ø¥ÙŠØ³Ø§Ùƒ", "Ø£Ù„Ù…ÙŠØ±ÙˆÙ†", "Ø¬ÙˆØ±Ø¯ÙˆÙ†"],
        "Ø£Ø³ØªÙˆÙ† ÙÙŠÙ„Ø§": ["Ù…Ø§Ø±ØªÙŠÙ†ÙŠØ²", "ÙƒÙˆÙ†Ø³Ø§", "ÙƒØ§Ø±Ù„ÙˆØ³", "ØªÙˆØ±ÙŠØ³", "Ø¯ÙŠÙ†ÙŠÙ‡", "Ø¯ÙˆØ¬Ù„Ø§Ø³ Ù„ÙˆÙŠØ²", "ÙƒØ§Ù…Ø§Ø±Ø§", "Ù…ÙƒØ¬ÙŠÙ†", "Ø¨Ø§ÙŠÙ„ÙŠ", "ÙˆØ§ØªÙƒÙŠÙ†Ø²", "Ø¯ÙŠØ§Ø¨ÙŠ"],
        "ÙˆØ³Øª Ù‡Ø§Ù…": ["Ø£Ø±ÙŠÙˆÙ„Ø§", "Ø²ÙˆÙ…Ø§", "Ø£Ø¬ÙŠØ±Ø¯", "ÙƒÙˆÙØ§Ù„", "Ø¥ÙŠÙ…Ø±Ø³ÙˆÙ†", "Ø£Ù„ÙØ§Ø±ÙŠØ²", "Ø³ÙˆØªØ´ÙŠÙƒ", "ÙˆØ§Ø±Ø¯ Ø¨Ø±Ø§ÙˆØ³", "Ù‚Ø¯ÙˆØ³", "Ø¨ÙˆÙŠÙ†", "Ø£Ù†Ø·ÙˆÙ†ÙŠÙˆ"],
        "Ø¨Ø±Ø§ÙŠØªÙˆÙ†": ["Ø³ØªÙŠÙ„", "Ø¯Ø§Ù†Ùƒ", "ÙØ§Ù† Ù‡ÙŠÙƒ", "ÙÙŠÙ„ØªÙ…Ø§Ù†", "Ø¥Ø³ØªÙˆØ¨ÙŠÙ†Ø§Ù†", "Ø¬Ø±ÙˆØ³", "Ø¬ÙŠÙ„Ù…ÙˆØ±", "Ù…ÙŠØªÙˆÙ…Ø§", "Ø£Ø¯ÙŠÙ†Ø¬Ø±Ø§", "Ø¨ÙŠØ¯Ø±Ùˆ", "ÙÙŠØ±Ø¬Ø³ÙˆÙ†"],
        "ÙˆÙˆÙ„ÙØ²": ["Ø³Ø§", "ÙƒÙŠÙ„Ù…Ø§Ù†", "Ø¯Ø§ÙˆØ³ÙˆÙ†", "ØªÙˆØªÙŠ", "Ø³ÙŠÙ…ÙŠØ¯Ùˆ", "Ø£ÙŠØª Ù†ÙˆØ±ÙŠ", "Ù„ÙŠÙ…ÙŠÙ†Ø§", "Ø¬ÙˆÙ…ÙŠØ²", "Ù†ÙŠØªÙˆ", "ÙƒÙˆÙ†ÙŠØ§", "Ù‡ÙˆØ§Ù†Ø¬"],
        "ÙÙˆÙ„Ù‡Ø§Ù…": ["Ù„ÙŠÙ†Ùˆ", "Ø£Ø¯ÙŠØ±Ø§Ø¨ÙŠÙˆ", "Ø¨Ø§Ø³ÙŠ", "ÙƒØ§Ø³ØªØ§Ù†ÙŠ", "Ø±ÙˆØ¨Ù†Ø³ÙˆÙ†", "Ø¨Ø§Ù„ÙŠÙ†ÙŠØ§", "Ø±ÙŠØ¯", "Ø¨ÙŠØ±ÙŠØ±Ø§", "ÙˆÙŠÙ„Ø³ÙˆÙ†", "ÙˆÙŠÙ„ÙŠØ§Ù†", "Ù…ÙˆÙ†ÙŠÙŠØ²"],
        "Ø¨ÙˆØ±Ù†Ù…ÙˆØ«": ["Ù†ÙŠØªÙˆ", "Ø²Ø¨Ø§Ø±Ù†ÙŠ", "Ø³ÙŠÙ†ÙŠØ³ÙŠ", "Ø³Ù…ÙŠØ«", "ÙƒÙŠØ±ÙƒÙŠØ²", "ÙƒØ±ÙŠØ³ØªÙŠ", "ÙƒÙˆÙƒ", "Ø³ÙˆÙ„Ø§Ù†ÙƒÙŠ", "ÙƒÙ„Ø§ÙŠÙØ±Øª", "Ø³ÙŠÙ…ÙŠÙ†ÙŠÙˆ", "ØªØ§ÙÙŠØ±Ù†ÙŠØ±"],
        "ÙƒØ±ÙŠØ³ØªØ§Ù„ Ø¨Ø§Ù„Ø§Ø³": ["Ù‡Ù†Ø¯Ø±Ø³ÙˆÙ†", "Ø£Ù†Ø¯Ø±Ø³Ù†", "ØºÙˆÙŠÙ‡ÙŠ", "ÙˆØ§Ø±Ø¯", "Ù…ÙŠØªØ´Ù„", "Ù„ÙŠØ±Ù…Ø§", "ÙˆØ§Ø±ØªÙˆÙ†", "Ø¥ÙŠØ²ÙŠ", "Ø£ÙˆÙ„ÙŠØ³", "Ø£ÙŠÙˆ", "Ù…Ø§ØªÙŠØªØ§"],
        "Ø¨Ø±ÙŠÙ†ØªÙÙˆØ±Ø¯": ["ÙÙ„ÙŠÙƒÙ†", "Ø¨ÙŠÙ†ÙˆÙƒ", "ÙƒÙˆÙ„ÙŠÙ†Ø²", "Ø¢ÙŠØ±", "Ø±ÙˆÙŠØ±Ø³Ù„ÙŠÙ", "Ù†ÙˆØ±Ø¬Ø§Ø±Ø¯", "ÙŠØ§Ù†ÙŠÙ„Øª", "ÙŠÙ†Ø³ÙŠÙ†", "Ù…Ø¨ÙŠÙ…Ùˆ", "ØªÙˆÙ†ÙŠ", "ÙˆÙŠØ³Ø§"],
        "Ø¥ÙŠÙØ±ØªÙˆÙ†": ["Ø¨ÙÙˆØ±Ø¯", "ØªØ§Ø±ÙƒÙˆÙØ³ÙƒÙŠ", "Ø¨Ø±Ø§Ù†Ø«ÙˆÙŠØª", "Ø¨Ø§ØªØ±Ø³ÙˆÙ†", "Ù…ÙŠÙƒÙˆÙ„ÙŠÙ†ÙƒÙˆ", "Ø¬Ø§ÙŠ", "Ø£ÙˆÙ†Ø§Ù†Ø§", "Ø¯ÙˆÙƒÙˆØ±ÙŠ", "Ù‡Ø§Ø±ÙŠØ³ÙˆÙ†", "Ù…Ø§ÙƒÙ†ÙŠÙ„", "ÙƒØ§Ù„ÙÙŠØ±Øª"],
        "Ù†ÙˆØªÙŠÙ†ØºÙ‡Ø§Ù…": ["Ø³ÙŠÙ„Ø³", "Ù…ÙˆØ±ÙŠÙ„Ùˆ", "Ø¨ÙˆÙ„ÙŠ", "ÙˆÙŠÙ„ÙŠØ§Ù…Ø²", "Ø£ÙŠÙ†Ø§", "Ø¯Ø§Ù†ÙŠÙŠÙ„Ùˆ", "ÙŠØªØ³", "Ø¬ÙŠØ¨Ø³ ÙˆØ§ÙŠØª", "Ø¥ÙŠÙ„Ø§Ù†Ø¬Ø§", "Ø£ÙˆØ¯ÙˆÙŠ", "Ø£ÙˆÙˆÙ†ÙŠÙŠ"],
        "Ù„ÙˆØªÙˆÙ†": ["ÙƒØ§Ù…ÙŠÙ†Ø³ÙƒÙŠ", "Ù…Ù†Ø¬ÙŠ", "Ø£ÙˆØ´Ùˆ", "Ø¨ÙŠÙ„", "Ø¯Ø§ÙˆØªÙŠ", "Ø¨Ø§Ø±ÙƒÙ„ÙŠ", "Ù„ÙˆÙƒÙˆÙ†Ø¬Ø§", "ÙƒÙ„Ø§Ø±Ùƒ", "Ø£ÙˆØ¬Ø¨ÙŠÙ†ÙŠ", "Ù…ÙˆØ±ÙŠØ³", "Ø£Ø¯ÙŠØ¨ÙŠÙˆ"],
        "Ø¨ÙŠØ±Ù†Ù„ÙŠ": ["ØªØ±Ø§ÙÙˆØ±Ø¯", "Ø£ÙˆØ´ÙŠ", "Ø¥Ø³ØªÙŠÙ", "Ø£Ø³ÙŠÙ†ÙŠÙˆÙ†", "ØªØ§ÙŠÙ„ÙˆØ±", "Ø¨ÙŠØ±Ø¬", "ÙƒÙˆÙ„ÙŠÙ†", "Ø¨Ø±Ø§ÙˆÙ†Ù‡ÙŠÙ„", "Ø£ÙˆØ¯ÙˆØ¨ÙŠØ±Øª", "ÙÙˆØ³ØªØ±", "Ø£Ù…Ø¯ÙˆÙ†ÙŠ"],
        "Ø´ÙŠÙÙŠÙ„Ø¯": ["ØºØ±ÙˆØ¨ÙŠØªØ´", "Ø£Ø­Ù…Ø¯ÙˆØ¯Ø¬ÙŠØªØ´", "ØªØ±ÙˆØ³ØªÙŠ", "Ø¨ÙˆØºÙ„", "Ù„Ø§Ø±ÙŠÙˆØ³Ùˆ", "Ø³ÙˆØ²Ø§", "Ù‡Ø§Ù…Ø±", "Ø¨Ø±ÙˆØ³ØªØ±", "Ø¢Ø±ØªØ´Ø±", "Ù…Ø§ÙƒØ¨ÙŠØ±Ù†ÙŠ", "Ø¨Ø±ÙŠØ±ÙŠØªÙˆÙ†"]
    },
    leagueStats: [],

    setMode(m) {
        this.mode = m;
        const select = document.getElementById('team-select');
        select.innerHTML = "";
        Object.keys(this.teamsData).forEach(t => select.innerHTML += `<option value="${t}">${t}</option>`);
    },

    confirmStart() {
        this.club = document.getElementById('team-select').value;
        this.money = (this.mode === 'manager') ? 80000000 : 2000;
        this.leagueStats = Object.keys(this.teamsData).map(t => ({name: t, pts: 0}));
        document.getElementById('setup-screen').style.display = 'none';
        document.getElementById(this.mode + '-tools').style.display = 'block';
        this.updateUI();
        this.renderTable();
        this.renderSquad();
    },

    updateUI() {
        document.getElementById('ui-club').innerText = this.club;
        document.getElementById('ui-money').innerText = this.money >= 1000000 ? (this.money/1000000).toFixed(1) + "M" : this.money + "$";
        document.getElementById('ui-energy').innerText = (this.mode === 'player') ? this.energy + "%" : this.trust + "%";
        document.getElementById('ui-ovr').innerText = this.ovr;
        if(this.trust <= 0) { alert("ğŸš¨ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ù‚Ø§Ù…Øª Ø¨Ø¥Ù‚Ø§Ù„ØªÙƒ!"); location.reload(); }
    },

    train(type) {
        if(type === 'eat') { this.money -= 300; this.energy = Math.min(100, this.energy + 40); }
        else if(type === 'rest') { this.energy = 100; }
        else {
            if(this.energy < 20) return alert("Ø·Ø§Ù‚Ø© Ù…Ù†Ø®ÙØ¶Ø©!");
            this.money -= 100; this.energy -= 20; this.ovr += 0.5;
        }
        this.updateUI();
    },

    takeLoan() { this.money += 50000000; alert("ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ù‚Ø±Ø¶ Ø¨Ù†Ø¬Ø§Ø­!"); this.updateUI(); },

    upgradeFacility(type) { this.money -= (type === 'acad' ? 10000000 : 5000000); alert("ØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ø¨Ù†Ø¬Ø§Ø­!"); this.updateUI(); },

    playRound() {
        if(this.mode === 'player' && this.energy < 30) return alert("Ø£Ù†Øª Ù…ØªØ¹Ø¨ Ø¬Ø¯Ø§Ù‹ Ù„Ù„Ù…Ø¨Ø§Ø±Ø§Ø©!");
        
        // Ù…Ø­Ø§ÙƒØ§Ø© Ù…Ø¨Ø§Ø±Ø§Ø© Ø§Ù„Ù„Ø§Ø¹Ø¨/Ø§Ù„Ù…Ø¯Ø±Ø¨
        let scoreMe = Math.floor(Math.random() * 4);
        let scoreOpp = Math.floor(Math.random() * 3);
        let myTeam = this.leagueStats.find(t => t.name === this.club);
        
        if(scoreMe > scoreOpp) { myTeam.pts += 3; this.money += (this.mode === 'player' ? 1000 : 5000000); this.trust = Math.min(100, this.trust + 5); }
        else if(scoreMe < scoreOpp) { this.trust -= 15; if(Math.random() > 0.8) { alert("ğŸš‘ Ø¥ØµØ§Ø¨Ø© Ù‚ÙˆÙŠØ© ÙÙŠ Ø§Ù„ÙØ±ÙŠÙ‚!"); this.ovr -= 2; } }
        else { myTeam.pts += 1; }

        if(this.mode === 'player') this.energy -= 40;
        this.week++;
        
        // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ÙƒØ§Ù…Ù„Ø©
        this.showAllResults(scoreMe, scoreOpp);
        this.renderTable();
        this.updateUI();
    },

    showAllResults(myS, oppS) {
        const screen = document.getElementById('results-screen');
        const list = document.getElementById('round-results-list');
        screen.style.display = 'flex';
        list.innerHTML = `â­ <b>Ù…Ø¨Ø§Ø±Ø§ØªÙƒ: ${this.club} ${myS} - ${oppS} Ø§Ù„Ø®ØµÙ…</b><br><hr>`;
        
        this.leagueStats.forEach(t => {
            if(t.name !== this.club) {
                let s1 = Math.floor(Math.random()*3);
                let s2 = Math.floor(Math.random()*3);
                if(s1 > s2) t.pts += 3; else if(s1 === s2) t.pts += 1;
                list.innerHTML += `ğŸ”¹ ${t.name} ${s1} - ${s2} Ù…Ù†Ø§ÙØ³Ù‡ <br>`;
            }
        });
    },

    renderSquad() {
        const players = this.teamsData[this.club];
        let html = "<ul>";
        players.forEach(p => html += `<li>ğŸƒ ${p}</li>`);
        document.getElementById('squad-list').innerHTML = html + "</ul>";
    },

    renderTable() {
        let sorted = [...this.leagueStats].sort((a,b) => b.pts - a.pts);
        let html = "<tr><th>#</th><th>Ø§Ù„ÙØ±ÙŠÙ‚</th><th>Ù†Ù‚Ø·Ø©</th></tr>";
        sorted.forEach((t, i) => html += `<tr style="${t.name === this.club ? 'color:var(--gold)' : ''}"><td>${i+1}</td><td>${t.name}</td><td>${t.pts}</td></tr>`);
        document.getElementById('league-table').innerHTML = html;
    },

    nav(id, el) {
        document.querySelectorAll('.screen').forEach(s => s.style.display = 'none');
        document.getElementById(id).style.display = 'block';
        document.querySelectorAll('.nav-link').forEach(n => n.classList.remove('active-link'));
        el.classList.add('active-link');
    }
};

window.onload = () => Game.init();
</script>
</body>
</html>
